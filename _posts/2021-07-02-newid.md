---
layout: post
title: "[ì•Œê³ ë¦¬ì¦˜] í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ ì‹ ê·œ ì•„ì´ë”” ì¶”ì²œ swift í’€ì´"
date: 2021-07-03 14:34:10 +0700
excerpt: 2021 ì¹´ì¹´ì˜¤ ê³µì±„ (ë¬¸ìì—´)
categories: [Algorithm]
---

## 1ï¸âƒ£ ë¬¸ì œ

Stringì¸ new_idë¥¼ ì•„ë˜ì™€ ê°™ì€ ë‹¨ê³„ë¥¼ ê±°ì¹œ ì¶”ì²œ ì•„ì´ë”” returní•˜ëŠ” ë¬¸ìì—´ ì²˜ë¦¬ ë¬¸ì œ

```
1ë‹¨ê³„ new_idì˜ ëª¨ë“  ëŒ€ë¬¸ìë¥¼ ëŒ€ì‘ë˜ëŠ” ì†Œë¬¸ìë¡œ ì¹˜í™˜í•©ë‹ˆë‹¤.
2ë‹¨ê³„ new_idì—ì„œ ì•ŒíŒŒë²³ ì†Œë¬¸ì, ìˆ«ì, ë¹¼ê¸°(-), ë°‘ì¤„(_), ë§ˆì¹¨í‘œ(.)ë¥¼ ì œì™¸í•œ ëª¨ë“  ë¬¸ìë¥¼ ì œê±°í•©ë‹ˆë‹¤.
3ë‹¨ê³„ new_idì—ì„œ ë§ˆì¹¨í‘œ(.)ê°€ 2ë²ˆ ì´ìƒ ì—°ì†ëœ ë¶€ë¶„ì„ í•˜ë‚˜ì˜ ë§ˆì¹¨í‘œ(.)ë¡œ ì¹˜í™˜í•©ë‹ˆë‹¤.
4ë‹¨ê³„ new_idì—ì„œ ë§ˆì¹¨í‘œ(.)ê°€ ì²˜ìŒì´ë‚˜ ëì— ìœ„ì¹˜í•œë‹¤ë©´ ì œê±°í•©ë‹ˆë‹¤.
5ë‹¨ê³„ new_idê°€ ë¹ˆ ë¬¸ìì—´ì´ë¼ë©´, new_idì— "a"ë¥¼ ëŒ€ì…í•©ë‹ˆë‹¤.
6ë‹¨ê³„ new_idì˜ ê¸¸ì´ê°€ 16ì ì´ìƒì´ë©´, new_idì˜ ì²« 15ê°œì˜ ë¬¸ìë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ë¬¸ìë“¤ì„ ëª¨ë‘ ì œê±°í•©ë‹ˆë‹¤.
     ë§Œì•½ ì œê±° í›„ ë§ˆì¹¨í‘œ(.)ê°€ new_idì˜ ëì— ìœ„ì¹˜í•œë‹¤ë©´ ëì— ìœ„ì¹˜í•œ ë§ˆì¹¨í‘œ(.) ë¬¸ìë¥¼ ì œê±°í•©ë‹ˆë‹¤.
7ë‹¨ê³„ new_idì˜ ê¸¸ì´ê°€ 2ì ì´í•˜ë¼ë©´, new_idì˜ ë§ˆì§€ë§‰ ë¬¸ìë¥¼ new_idì˜ ê¸¸ì´ê°€ 3ì´ ë  ë•Œê¹Œì§€ ë°˜ë³µí•´ì„œ ëì— ë¶™ì…ë‹ˆë‹¤.
```

## 2ï¸âƒ£ í’€ì´ ë°©ë²•

ìœ„ ë‹¨ê³„ ë”°ë¥´ê¸°ë§Œ í•˜ë©´ ë¨.

ê·¼ë° swiftê°€ ë¬¸ìì—´ ì²˜ë¦¬í•˜ê¸°ê°€ ê¹Œë‹¤ë¡œì›Œì„œ ìƒê°ë³´ë‹¤ ì‰½ì§€ ì•Šì•˜ë‹¤. ì´ ë¬¸ì œë¥¼ ì½”í‹€ë¦°ìœ¼ë¡œ í‘¼ ì ì´ ìˆì—ˆëŠ”ë° ê·¸ë•ŒëŠ” ìƒê°ë³´ë‹¤ ì‰½ê²Œ í’€ì—ˆì—ˆëŠ”ë°... ( êˆ¨àº¶ Ë™Ì«Ì® êˆ¨àº¶ ) 
(ê·¸ë•Œë³´ë‹¤ ë” ê°€ë…ì„± ì‹ ê²½ì“°ë©´ì„œ ì§œê¸°ë„ í•´ì„œ ê·¸ë ‡ì§€ë§Œ)

í•œë²ˆ ë‚ ì¡ê³  String ê´€ë ¨í•´ì„œ ì •ë¦¬í•´ì•¼ê² ë‹¹ ğŸ‘©â€ğŸ«

## 3ï¸âƒ£ ì½”ë“œ

### Extension

solutionë‚´ì—ì„œ ì½”ë“œê°€ ì§€ì €ë¶„í•´ì§€ê¸° ì‹«ì–´ì„œ extension ì§€í–¥ ì½”ë“œë¥¼ ì§œë´„! ë¬¼ë¡  ê·¸ëƒ¥ í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ë„ ì½”ë“œëŠ” ê¹”ë”í•´ì§€ê² ì§€ë§Œ, map()ê°™ì€ ê³ ì°¨í•¨ìˆ˜ ë‚´ì—ì„œ ë˜ëŠ” idì— ë°”ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œë” Character ë˜ëŠ” Stringì— ì§ì ‘ ì ‘ê·¼í•˜ëŠ” extension ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³  ì‹¶ì—ˆë‹¤.

1ï¸âƒ£ Character extension - ìœ íš¨í•œ ë¬¸ìì¸ì§€ ê²€ì¦í•˜ëŠ” Bool (2ë‹¨ê³„)

- ì²˜ìŒì—ëŠ” ì•„ìŠ¤í‚¤ í‘œ ê²€ìƒ‰í•´ì„œ ì´ë ‡ê²Œ ì„¸ì„¸í•˜ê²Œ ì‘ì„±í–ˆì—ˆë‹¤. 

  ì½”í‹€ë¦°ì—ì„œëŠ” `a in [a..z]` ì´ëŸ°ì‹ì´ë©´ ëë‚¬ì–´ì„œ, swift ë‚˜í•œí…Œ ì´ëŸ´êº¼ì•¼? í•˜ë©° ì… íˆ´íˆ´ëŒ€ë©° ì§°ì—ˆìŒ

  ``` swift let asciiVal = self.asciiValue!
          if asciiVal >= 97 && asciiVal <= 122
          || asciiVal >= 48 && asciiVal <= 57```
  ```

  ê·¼ë° ì„¸ìƒì— ë§ˆìƒì— `.isNumber()`, `.isLetter()`ë¼ëŠ” í•¨ìˆ˜ë¥¼ ì§€ì›í•˜ë‹¤ë‹ˆ ì˜ì—”ì ¤.... ìš•í•œê±° ë¯¸ì•ˆí•˜ë‹¤ ìŠ¤ìœì•„ ë‚´ë§˜ì•Œì§€? (Ëµ Í¡o ÍœÊ– Í¡oËµ)

``` swift
extension Character {
    var isValid: Bool {
        let specialChar = "-_."
        if self.isNumber
        || self.isLetter
        || self == "-" 
        || self == "_"
        || specialChar.contains(self) { return true }
        return false
    }
}
```

2ï¸âƒ£ String extension - ì¤‘ë³µì  ì œê±° í•¨ìˆ˜(3ë‹¨ê³„), ê°€ì¥ìë¦¬ ì  ì œê±° í•¨ìˆ˜(4ë‹¨ê³„), ê¸¸ì´ì¡°ì ˆ í•¨ìˆ˜(6,7ë‹¨ê³„)

ì„¸ í•¨ìˆ˜ ëª¨ë‘ ê°œì„ ëœ newIdì¸ Stringì„ ë°˜í™˜í•œë‹¤. ë³€ìˆ˜(`var`)ì— ì ‘ê·¼í•  ë•ŒëŠ” `mutating func`ìœ¼ë¡œ í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ë©°, 4ë‹¨ê³„ë§Œ mutatingì„ í•œ ì´ìœ ëŠ” adjustLength()ì—ì„œ var ë³€ìˆ˜ì¸ newIdì— ëŒ€í•´ì„œ 4ë‹¨ê³„ ê³¼ì •ì„ í•œë²ˆ ë” ê±°ì³ì£¼ì–´ì•¼ í•˜ê¸° ë•Œë¬¸ì´ë‹¤.

- removeDotsContinuous()

  ".."ì´ë¼ëŠ” ë¬¸ìê°€ ì—†ì„ë•Œê°€ì§€ ì´ë¥¼ ì°¾ì•„ "."ìœ¼ë¡œ ì¹˜í™˜í•´ì¤€ë‹¤.

  (ë‚˜ëŠ” ì•„ë¬´ë¦¬ ì°¾ì•„ë„ swiftì—ëŠ” ì½”í‹€ë¦°ì˜ `str.replace()`ê°™ì€ í•¨ìˆ˜ê°€ ì—†ê¸¸ë˜ ë˜ ìš•í–ˆëŠ”ë° ë‹¤ë¥¸ ì‚¬ëŒ í’€ì´ì—ì„œ `replacingOccurrences(of:)`ë¥¼ ë°œê²¬í•¨. ì˜ë¦¬ ìŠ¤ìœã…Œ  ( Í¡o ÍœÊ– Í¡o) )

- removeDotsAtEdges()

  ì•ì„œ ë§í–ˆë“¯ì´ 6,7ë‹¨ê³„ë¥¼ ê±°ì¹œ í›„ ë˜ ì¨ì¤˜ì•¼í•´ì„œ mutating

   `str.removeFirst()`, `str.removeLast()`ëŠ” callableì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ë³€ìˆ˜ì— í• ë‹¹í•´ì¤„ í•„ìš” X (like `append()`)

- adjustLength()

  `str.prefix(_ maxLength: Int)`ëŠ” ë¦¬í„´íƒ€ì…ì´ subStringì´ê¸° ë•Œë¬¸ì— String ë³€í™˜ í•„ìˆ˜

  ë¬¸ìì—´ì„ ìë¥´ê±°ë‚˜ ëŠ˜ë¦¬ë©´ ë ìë¦¬ì— ë§ˆì¹¨í‘œê°€ ì˜¬ ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ 4ë‹¨ê³„ í•œë²ˆ ë” ê±°ì³ì£¼ì–´ì•¼ í•œë‹¤.

``` swift
extension String {
    func removeDotsContinuous() -> String {
        var newId = self
        while newId.contains("..") {
            newId = newId.replacingOccurrences(of: "..", with: ".")
        }
        return newId
    }
    mutating func removeDotsAtEdges() -> String {
        var newId = self
        if newId.first == "." { newId.removeFirst() }
        if newId.last == "." { newId.removeLast() }
        return newId
    }
    func adjustLength() -> String {
        var newId = self
        if newId.count >= 15 {
            newId = String(newId.prefix(15))
        }
        while newId.count < 3 {
            newId.append(newId.last!)
        }
        return newId.removeDotsAtEdges()
    }
}
```

### Solution

ì§œì”âœ¨ ì†”ë£¨ì…˜ì´ ì•„ì£¼ ê·¸ëƒ¥ ê¹”ë”í•˜ì¥¬?

1ë‹¨ê³„ë‘ 4ë‹¨ê³„ëŠ” í•œì¤„ë¡œ ëë‚¼ ìˆ˜ ìˆì–´ì„œ ë”°ë¡œ extensionì— ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì§€ ì•Šì•˜ë‹¤.

``` swift
func solution(_ new_id:String) -> String {
    // 1,2ë‹¨ê³„
    let idStep12 = new_id.lowercased().filter { $0.isValid }
    // 3ë‹¨ê³„
    var idStep3 = idStep12.removeDotsContinuous()
    // 4ë‹¨ê³„
    let idStep4 = idStep3.removeDotsAtEdges()
    // 5ë‹¨ê³„
    let idStep5 = idStep4.isEmpty ? "a": idStep4
    // 6,7ë‹¨ê³„
    let idStep67 = idStep5.adjustLength()
    
    return idStep67
}
```



## 4ï¸âƒ£ ì´ ë¬¸ì œë¥¼ í’€ë©´ì„œ ë˜ìƒˆê¸´ ì 

ë¬¸ìì—´ì²˜ë¦¬ ë” ìµìˆ™í•´ì§€ë ¤ë©´ ë¬¸ì œ ë” ë§ì´ í’€ì–´ë³´ì  ( Í Â° ÍŸÊ– Í Â°) 
